(function(t){t.fn.initRJCarousel=function(e){return this.each(function(n,r){var i=t(r).attr("id"),s=-1,o=600,u=!1,a=!1,f,l,c=t("#"+i+" li"),h=t("#"+i+"-next"),p=t("#"+i+"-prev"),d=function(){return u},v=function(){return i},m=function(){return c.size()},g=function(){u=!0,f=t("#"+i+"-counter");var n=t("<ul/>");f.append(n);for(var r=0;r<m();r++){var s=t("<li/>");n.append(s),s.data("index",r),s.bind("click",S)}l=n.find("li");if(e.center){var o=l.outerWidth(!0)*m()-parseInt(l.eq(0).css("margin-left"))-parseInt(l.eq(-1).css("margin-right")),a=f.innerWidth()-o;n.css("margin-left",a/2),l.eq(0).css("margin-left",0)}},y=function(){u&&l.removeClass("carousel-selected carousel-unselected").addClass("carousel-unselected")},b=function(e){o=e},w=function(){y(),c.eq(s).fadeOut(o,T(s+1))},E=function(){y(),c.eq(s).fadeOut(o,T(s-1))},S=function(e){var n=t(e.target).data("index");e.preventDefault(),x(n)},x=function(e){y(),c.eq(s).fadeOut(o,T(e))},T=function(e){s=e,s<0&&(s+=m()),s%=m(),N()},N=function(){c.hide(),c.eq(s).fadeIn(o),u&&(y(),l.eq(s).removeClass("carousel-unselected").addClass("carousel-selected")),a=!1};e=e||{},e.counter&&g(),c.css("display","none"),t.each([h,p],function(e,t){t.unbind()}),h.bind("click",function(e){e.preventDefault(),w()}),p.bind("click",function(e){e.preventDefault(),E()}),t("#"+i).data("rjcarousel",{divId:v,setFadeLength:b,numElements:m,hasCounter:d,jump:x,next:w,prev:E})})},t.fn.setFadeLength=function(e){return this.each(function(n,r){t(r).data("rjcarousel").setFadeLength(e)})},t.fn.next=function(){return this.each(function(e,n){t(n).data("rjcarousel").next()})},t.fn.prev=function(){return this.each(function(e,n){t(n).data("rjcarousel").prev()})},t.fn.jump=function(e){return this.each(function(n,r){t(r).data("rjcarousel").jump(e)})}})(jQuery);