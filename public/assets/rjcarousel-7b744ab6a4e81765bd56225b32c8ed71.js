(function a(a){a.fn.initRJCarousel=function(b){return this.each(function(c,d){var e=a(d).attr("id"),f=-1,g=600,h=!1,i=!1,j,k,l=a("#"+e+" li"),m=a("#"+e+"-next"),n=a("#"+e+"-prev"),o=function(){return h},p=function(){return e},q=function(){return l.size()},r=function(){h=!0,j=a("#"+e+"-counter");var c=a("<ul/>");j.append(c);for(var d=0;d<q();d++){var f=a("<li/>");c.append(f),f.data("index",d),f.bind("click",w)}k=c.find("li");if(b.center){var g=k.outerWidth(!0)*q()-parseInt(k.eq(0).css("margin-left"))-parseInt(k.eq(-1).css("margin-right")),i=j.innerWidth()-g;c.css("margin-left",i/2),k.eq(0).css("margin-left",0)}},s=function(){h&&k.removeClass("carousel-selected carousel-unselected").addClass("carousel-unselected")},t=function(a){g=a},u=function(){s(),l.eq(f).fadeOut(g,y(f+1))},v=function(){s(),l.eq(f).fadeOut(g,y(f-1))},w=function(b){var c=a(b.target).data("index");b.preventDefault(),x(c)},x=function(a){s(),l.eq(f).fadeOut(g,y(a))},y=function(a){f=a,f<0&&(f+=q()),f%=q(),z()},z=function(){l.hide(),l.eq(f).fadeIn(g),h&&(s(),k.eq(f).removeClass("carousel-unselected").addClass("carousel-selected")),i=!1};b=b||{},b.counter&&r(),l.css("display","none"),a.each([m,n],function(a,b){b.unbind()}),m.bind("click",function(a){a.preventDefault(),u()}),n.bind("click",function(a){a.preventDefault(),v()}),a("#"+e).data("rjcarousel",{divId:p,setFadeLength:t,numElements:q,hasCounter:o,jump:x,next:u,prev:v})})},a.fn.setFadeLength=function(b){return this.each(function(c,d){a(d).data("rjcarousel").setFadeLength(b)})},a.fn.next=function(){return this.each(function(b,c){a(c).data("rjcarousel").next()})},a.fn.prev=function(){return this.each(function(b,c){a(c).data("rjcarousel").prev()})},a.fn.jump=function(b){return this.each(function(c,d){a(d).data("rjcarousel").jump(b)})}})(jQuery)